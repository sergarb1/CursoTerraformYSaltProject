<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cheat Sheet Â· UD07 â€“ Terraform + LocalStack</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <style>
    body{margin:0;font-family:'Inter',sans-serif;background:#f9fafc;color:#1e1e1e;line-height:1.6;padding:24px}
    h1,h2,h3{color:#0052cc}
    h1{font-size:2em;margin-bottom:0.3em}
    h2{border-bottom:2px solid #e5e7eb;padding-bottom:0.2em;margin-top:1em}
    code,pre{background:#f0f2f5;color:#111;padding:4px 6px;border-radius:6px;font-size:0.9em}
    pre{padding:12px;overflow-x:auto}
    .tip{background:#e8f2ff;border-left:4px solid #0052cc;padding:10px;border-radius:8px;margin:10px 0}
    .warn{background:#fff6e5;border-left:4px solid #ff9f1c;padding:10px;border-radius:8px;margin:10px 0}
    .ok{background:#e8f8f0;border-left:4px solid #2ecc71;padding:10px;border-radius:8px;margin:10px 0}
    ul{margin-left:20px}
    section{margin-bottom:30px;padding:20px;background:#ffffff;border-radius:16px;box-shadow:0 4px 10px rgba(0,0,0,.05)}
    i{color:#0052cc;margin-right:6px}
  </style>
</head>
<body>

<h1><i class="bi bi-cloud-check-fill"></i>UD07 Â· Terraform + LocalStack</h1>
<p>Cheat Sheet de simulaciÃ³n de AWS en local usando LocalStack y Terraform. Incluye teorÃ­a y caso prÃ¡ctico completo.</p>

<section>
<h2><i class="bi bi-cpu-fill"></i> 1 Â· Â¿QuÃ© es LocalStack?</h2>
<ul>
  <li>ğŸ§ª Emula servicios AWS como S3, Lambda, DynamoDB... en local</li>
  <li>ğŸš« Sin costes ni necesidad de cuenta AWS</li>
  <li>ğŸ” Compatible con AWS CLI, SDKs y Terraform</li>
  <li>ğŸ”— Endpoint universal: <code>http://localhost:4566</code></li>
</ul>
</section>

<section>
<h2><i class="bi bi-tools"></i> 2 Â· Servicios AWS emulados</h2>
<ul>
  <li><b>Almacenamiento:</b> S3, EBS, SQS, SNS</li>
  <li><b>Base de datos:</b> DynamoDB, RDS</li>
  <li><b>CÃ³mputo:</b> Lambda, EC2, ECS</li>
  <li><b>Infraestructura:</b> CloudFormation, IAM, CloudWatch</li>
  <li><b>Otros:</b> Secrets Manager, API Gateway, Step Functions</li>
</ul>
</section>

<section>
<h2><i class="bi bi-download"></i> 3 Â· InstalaciÃ³n</h2>
<h3><i class="bi bi-terminal"></i> Requisitos</h3>
<ul>
  <li>Python 3.8+</li>
  <li>Docker</li>
  <li>Terraform</li>
</ul>
<h3><i class="bi bi-box-arrow-in-down"></i> Instalar LocalStack</h3>
<pre><code>pip install localstack
pip install localstack-client</code></pre>

<h3><i class="bi bi-play-circle"></i> Arrancar LocalStack</h3>
<pre><code>localstack start -d</code></pre>

<h3><i class="bi bi-database-check"></i> Verificar servicios</h3>
<pre><code>curl http://localhost:4566/health</code></pre>
</section>

<section>
<h2><i class="bi bi-link-45deg"></i> 4 Â· Terraform + LocalStack</h2>
<p>Configura el provider AWS para que apunte a LocalStack:</p>
<pre><code>provider "aws" {
  region  = "us-east-1"
  access_key = "test"
  secret_key = "test"
  skip_credentials_validation = true
  skip_metadata_api_check     = true
  skip_requesting_account_id  = true
  s3_use_path_style           = true

  endpoints {
    s3 = "http://localhost:4566"
  }
}</code></pre>
</section>

<section>
<h2><i class="bi bi-rocket-takeoff-fill"></i> 5 Â· Caso prÃ¡ctico</h2>

<h3><i class="bi bi-file-earmark-code"></i> Estructura</h3>
<pre><code>UD07-CasoPractico01/
â”œâ”€â”€ main.tf
â”œâ”€â”€ variables.tf
â””â”€â”€ outputs.tf</code></pre>

<h3><i class="bi bi-clipboard2-data"></i> Recursos simulados</h3>
<ul>
  <li>âœ… Bucket S3</li>
  <li>âœ… Archivo <code>hola.txt</code> con contenido simulado</li>
</ul>

<h3><i class="bi bi-gear-wide-connected"></i> main.tf</h3>
<pre><code>resource "aws_s3_bucket" "demo_bucket" {
  bucket = var.bucket_name
}

resource "aws_s3_object" "demo_file" {
  bucket  = aws_s3_bucket.demo_bucket.id
  key     = "hola.txt"
  content = "Â¡Hola desde Terraform con LocalStack!"
}</code></pre>

<h3><i class="bi bi-filetype-json"></i> variables.tf</h3>
<pre><code>variable "bucket_name" {
  default = "mi-bucket-localstack"
}</code></pre>

<h3><i class="bi bi-eye"></i> outputs.tf</h3>
<pre><code>output "archivo_subido" {
  value = aws_s3_object.demo_file.key
}

output "endpoint_localstack" {
  value = "http://localhost:4566"
}</code></pre>
</section>

<section>
<h2><i class="bi bi-terminal"></i> 6 Â· Comandos clave</h2>
<ul>
  <li><code>terraform init</code> â†’ Inicializa el proyecto</li>
  <li><code>terraform apply</code> â†’ Aplica la infraestructura</li>
  <li><code>aws --endpoint-url=http://localhost:4566 s3 ls</code> â†’ Lista buckets</li>
  <li><code>aws --endpoint-url=http://localhost:4566 s3 cp s3://mi-bucket-localstack/hola.txt -</code> â†’ Muestra archivo</li>
  <li><code>terraform destroy</code> â†’ Limpia recursos</li>
  <li><code>localstack stop</code> â†’ Detiene servicios</li>
</ul>
</section>

<section>
<h2><i class="bi bi-stars"></i> 7 Â· Beneficios de usar LocalStack</h2>
<ul>
  <li>ğŸ§ª Pruebas sin riesgo</li>
  <li>ğŸ’¸ Cero costes AWS</li>
  <li>ğŸ§° Laboratorios educativos</li>
  <li>âš™ï¸ CI/CD offline o con mÃ­nimo impacto</li>
  <li>ğŸ§± 100% compatible con Terraform IaC</li>
</ul>
</section>


<p style="text-align:center;color:#0052cc;margin-top:40px"><i class="bi bi-mortarboard"></i> Cheat Sheet UD07 â€“ Terraform + LocalStack Â· Full Edition</p>
</body>
</html>
